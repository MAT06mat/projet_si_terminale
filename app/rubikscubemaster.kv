#:import MainMenu screens.main_menu
#:import LoadMenu screens.load_menu
#:import SettingsMenu screens.settings_menu
#:import BluetoothScreenManager screens.bluetooth_screen_manager
#:import NoTransition kivy.uix.screenmanager.NoTransition


<Root>:
    md_bg_color: self.theme_cls.backgroundColor
    MDNavigationLayout:
        ScreenManager:
            id: screen_manager
            transition: NoTransition()
            MDScreen:
                name: "MainMenu"
                MainMenu:
                    id: main_menu
            MDScreen:
                name: "LoadCube"
                LoadMenu:
                    id: load_menu
            MDScreen:
                name: "Settings"
                SettingsMenu:
                    id: settings_menu
            MDScreen:
                name: "Bluetooth"
                BluetoothScreenManager:
                    id: bluetooth_menu
    MDNavigationDrawer:
        id: nav_drawer
        drawer_type: "modal"
        MDNavigationDrawerMenu:
            MDNavigationDrawerLabel:
                text: "R.C.M. - Menu"
                font_style: "lalezar"
                role: "medium"

            MDNavigationDrawerDivider:

            NavigationDrawerItem:
                id: main_menu_item
                selected: True
                on_release: root.push("MainMenu")
                MDNavigationDrawerItemLeadingIcon:
                    icon: "cube"
                MDNavigationDrawerItemText:
                    text: "Cube view"

            NavigationDrawerItem:
                on_release: root.push("LoadCube")
                MDNavigationDrawerItemLeadingIcon:
                    icon: "content-save-all"
                MDNavigationDrawerItemText:
                    text: "Saves"

            NavigationDrawerItem:
                on_release: root.push("Settings")
                MDNavigationDrawerItemLeadingIcon:
                    icon: "cog"
                MDNavigationDrawerItemText:
                    text: "Settings"


            NavigationDrawerItem:
                selectable: False
                on_release: main_menu.reset_logs()
                MDNavigationDrawerItemLeadingIcon:
                    icon: "reload"
                MDNavigationDrawerItemText:
                    text: "Reset logs"

            MDNavigationDrawerDivider:

            NavigationDrawerItem:
                on_release: root.push("Bluetooth")
                MDNavigationDrawerItemLeadingIcon:
                    icon: "bluetooth"
                MDNavigationDrawerItemText:
                    text: "Bluetooth"

<Dialog>:
    MDDialogHeadlineText:
        text: "Reset settings?"
    MDDialogSupportingText:
        text: "This will reset your app preferences back to their default settings. The following accounts will also be signed out:"
    MDDialogContentContainer:
        orientation: "vertical"
        MDDivider:
        MDListItem:
            theme_bg_color: "Custom"
            md_bg_color: self.theme_cls.transparentColor
            MDListItemLeadingIcon:
                icon: "gmail"
            MDListItemSupportingText:
                text:"KivyMD-library@yandex.com"
        MDListItem:
            theme_bg_color: "Custom"
            md_bg_color: self.theme_cls.transparentColor
            MDListItemLeadingIcon:
                icon: "gmail"
            MDListItemSupportingText:
                text: "kivydevelopment@gmail.com"
        MDDivider:
    MDDialogButtonContainer:
        spacing: "8dp"
        Widget:
        MDButton:
            MDButtonText:
                text:"Cancel"
                style: "text"
        MDButton:
            MDButtonText:
                text: "Accept"
                style: "text"
