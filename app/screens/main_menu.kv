#:import CustomButton ui.button.CustomButton
#:import RubiksCube ui.cube.RubiksCube

<MainMenu>:
    orientation: "vertical"
    MDTopAppBar:
        type: "small"
        size_hint_x: 1
        MDTopAppBarLeadingButtonContainer:
            MDActionTopAppBarButton:
                icon: "menu"
                id: menu_button
                on_release: app.root.toggle_drawer()
        MDTopAppBarTitle:
            text: "Rubik's Cube Master"
            font_style: "lalezar"
            color: "#3F3F3F"
            pos_hint: {"center_x": .5}

    RelativeLayout:
        RubiksCube:
            id: cube
            scale: 50
            background_color: app.theme_cls.backgroundColor
        MDLabel:
            text: root.text
            color: "#3F3F3F"
            font_style: "lalezar"
            role: "small"
            padding: dp(10)
            valign: "bottom"
        MDBoxLayout:
            adaptive_height: True
            padding: dp(10)
            spacing: dp(10)
            Widget:
            MDFabButton:
                icon: "delete"
                opacity: 0 if not root.edit_mode else 1
                disabled: not root.edit_mode
                on_release: root.bpopup.open()
            MDFabButton:
                icon: "content-save-all"
                opacity: 0 if not root.edit_mode else 1
                disabled: not root.edit_mode
                on_release: root.tpopup.open()
            MDFabButton:
                icon: "pencil-outline" if not root.edit_mode else "close"
                style: "standard"
                on_release: root.toggle_edit_mode()