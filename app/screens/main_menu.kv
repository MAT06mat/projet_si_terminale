#:import CustomButton ui.button.CustomButton
#:import RubiksCube ui.rubiks_cube.RubiksCube
#:import AppBar ui.app_bar

<MainMenu>:
    orientation: "vertical"
    AppBar:
        title: "Cube view"

    RelativeLayout:
        RubiksCube:
            id: cube
            scale: 50
            cube_update: True if root.parent.parent else False
            background_color: app.theme_cls.backgroundColor
        MDIconButton:
            icon: "content-save-all"
            pos: (cube.width-dp(10)-self.width, cube.height-dp(10)-self.width)
            theme_font_size: "Custom"
            font_size: "24sp"
            radius: [self.height / 2, ]
            size_hint: None, None
            size: "52dp", "52dp"
            on_release: app.root.save_cube()
        MDLabel:
            text: root.text
            color: "#3F3F3F"
            font_style: "lalezar"
            role: "small"
            padding: dp(10)
            valign: "bottom"
        MDBoxLayout:
            adaptive_height: True
            padding: dp(10)
            spacing: dp(10)
            Widget:
            MDFabButton:
                icon: "delete"
                opacity: 0 if not root.edit_mode else 1
                disabled: not root.edit_mode
                on_release: root.bpopup.open()
            MDFabButton:
                icon: "content-save-all"
                opacity: 0 if not root.edit_mode else 1
                disabled: not root.edit_mode
                on_release: root.tpopup.open()
            MDFabButton:
                icon: "pencil-outline" if not root.edit_mode else "close"
                style: "standard"
                on_release: root.toggle_edit_mode()
